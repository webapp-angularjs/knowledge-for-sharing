<section id="indexCtrl">
  <div class="container" block-ui="indexBlock">
<!--     <lyric-letters letters="abcdefghijklmnopqrstuvwxyz" on-submit="setFilter">
    </lyric-letters> -->
    <lyric-search view-default="currentViewTemplate" search-value="search">
    </lyric-search>   
    <div class="container-lyrics" id="container-lyrics">
      <div ng-switch on="isViewColumn()">
        <div ng-switch-when="true" infinite-scroll="loadMore()" infinite-scroll-disabled="busy" infinite-scroll-distance="1">
          <div ng-repeat="lyric in filtered = (lyrics | customFilter:letterFilter)">
            <div class="lyric-item-column" data-myorder="{{ lyric.index }}">
              <div class="lyric" ng-click="openLyric($index)">
                <div class="author-content-left">
                  <!-- <img ng-src="{{ lyric.avatar }}" class="author-content-avatar"></img> -->
                  <div class="author-content-avatar">{{lyric.author.name}}</div>
                </div>
                <div class="author-content-right">
                  <div class="lyric-song">{{ lyric.name }}</div>
                  <!-- <div class="lyric-content">{{ getTemplateMore(lyric.content, 100) }} <a> more ... </a></div> -->
                  <div class="lyric-content" ng-bind-html="getTemplateMore(lyric.content, 100)"></div>
                </div>            
              </div>                              
            </div>
          </div>
        </div>
        <div ng-switch-when="false" infinite-scroll="loadMore()" infinite-scroll-disabled="busy" infinite-scroll-distance="1">
          <div ng-repeat="lyric in lyrics | customFilter">
            <div class="lyric-item-list">
              <div class="lyric" ng-click="openLyric($index)">
                <div class="lyric-song">{{ lyric.name }} - {{ lyric.author.name }} </div>
                <!-- <div class="lyric-content">{{ getTemplateMore(lyric.content) }} <a> more ... </a></div> -->
                <div class="lyric-content" ng-bind-html="getTemplateMore(lyric.content)"></div>
              </div>                              
            </div>
          </div>          
        </div>
      </div>
    </div> 
  </div>
</section>
